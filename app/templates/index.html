<!DOCTYPE html>
<html lang="en">
<head>
  <title>jQuery Validation - Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <style>
  	.error{
    	color: red;
        font-style: italic;
    }
  </style>
</head>
<body>
	<div class = "container">
    	<div class = "col-md-6 col-md-offset-3">
        	<div class = "panel panel-primary">
            	<div class = "panel-heading">
                	Registration
                </div>
                <div class = "panel-body">
                	<form id = "registration" action="{% url 'reg' %}" method="post">
                        {% csrf_token %}
                    	<input type = "text" class = "form-control" name = "username" placeholder = "Username" id="username"/>
                        <br/>
                        <input type = "text" class = "form-control" name = "email" placeholder = "Email" id="email"/>
                        <br/>
                        <input type = "password" class = "form-control" name = "password" placeholder = "Password" id = "password"/>
                        <br/>
                        <input type = "password" class = "form-control" name = "confirm" placeholder = "Confirm Password" id="confirm"/>
                        <br/>
                        <input type = "text" class = "form-control" name = "fname" placeholder = "First Name" id="fname"/>
                        <br/>
                        <input type = "text" class = "form-control" name = "lname" placeholder = "Last Name" id="lname"/>
                        <hr/>
                        <div class = "gender" >
							<label class="radio-inline"><input type="radio" name="gender" value="Female" class = "form-contorl"/>Male</label>
							<label class="radio-inline"><input type="radio" name="gender" value="Male" class = "form-contorl"/>Female</label>       
                        </div>
                        <br/>
                        
                        <div class = "hobbies">
                        	<label class="checkbox-inline"><input type="checkbox" value="Cricket" name = "hobbies">Cricket</label>
							<label class="checkbox-inline"><input type="checkbox" value="Football" name = "hobbies">Football</label>
							<label class="checkbox-inline"><input type="checkbox" value="Hockey" name = "hobbies">Hockey</label>
                        	<label class="checkbox-inline"><input type="checkbox" value="Tennis" name = "hobbies">Tennis</label>
                        </div><hr>
                        <select class = "form-control" name = "country" class="form-select" aria-label="Default select example" id="country">
                        	<option value="0" selected="" disabled="">--Select Country--</option>
                            <option>India</option>
                            <option>Australia</option>
                            <option>Japan</option>
                            <option>China</option>
                            <option>South Africa</option>
                        </select>
                        <br/>
                        <textarea class = "form-control" name = "address" placeholder="Address" id="address"></textarea>
                        <br/>
                        <button type = "submit" class = "btn btn-primary" id="btn-submit">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
        jQuery.validator.addMethod("noSpace", function(value, element) { 
            return value == '' || value.trim().length != 0;  
        }, "No space please and don't leave it empty");
        jQuery.validator.addMethod("customEmail", function(value, element) { 
        return this.optional( element ) || /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test( value ); 
        }, "Please enter valid email address!");
        $.validator.addMethod( "alphanumeric", function( value, element ) {
        return this.optional( element ) || /^\w+$/i.test( value );
        }, "Letters, numbers, and underscores only please" );
        var $registrationForm = $('#registration');
        if($registrationForm.length){
  $registrationForm.validate({
      rules:{
          //username is the name of the textbox
          username: {
              required: true,
              //alphanumeric is the custom method, we defined in the above
              alphanumeric: true
          },
          email: {
              required: true,
              customEmail: true
          },
          password: {
              required: true
          },
          confirm: {
              required: true,
              equalTo: '#password'
          },
          fname: {
              required: true,
              noSpace: true
          },
          lname: {
              required: true,
              noSpace: true
          },
          gender: {
              required: true
          },
          hobbies: {
              required: true
          },
          country: {
              required: true
          },
          address: {
              required: true
          }
      },
      messages:{
          username: {
              //error message for the required field
              required: 'Please enter username!'
          },
          email: {
              required: 'Please enter email!',
              //error message for the email field
              email: 'Please enter valid email!'
          },
          password: {
              required: 'Please enter password!'
          },
          confirm: {
              required: 'Please enter confirm password!',
              equalTo: 'Please enter same password!'
          },
          fname: {
              required: 'Please enter first name!'
          },
          lname: {
              required: 'Please enter last name!'
          },
          country: {
              required: 'Please select country!'
          },
          address: {
              required: 'Please enter address!'
          },
          gender: {
            required: 'Select Gender'
          },
          hobbies: {
            required: 'Choose Your Favourite Sports'
          }
      },
      errorPlacement: function(error, element) 
      {
        if (element.is(":radio")) 
        {
            error.appendTo(element.parents('.gender'));
        }
        else if(element.is(":checkbox")){
            error.appendTo(element.parents('.hobbies'));
        }
        else 
        { 
            error.insertAfter( element );
        }
        
       }
    });
   
}
    </script>
<script>
    $(document).on('submit','#form1',function(e){
        e.preventDefault();
        $.ajax({
            type:'POST',
            url:'/reg/',
            data:{
                username:$('#username').val(),
                email:$('#email').val(),
                password:$('#password').val(),
                confirm:$('#confirm').val(),
                fname:$('#fname').val(),
                lname:$('#lname').val(),
                gender:$('#gender').val(),
                hobbies:$('#hobbies').val(),
                country:$('#country').val(),
                address:$('#address').val(),
                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
            },
            success:function(data){
                $('h2').html(data);
            }
        });
    });
</script>
</body>
</html>
